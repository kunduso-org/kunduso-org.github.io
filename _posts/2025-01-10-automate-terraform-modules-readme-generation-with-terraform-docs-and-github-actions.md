---
title: "Automate Terraform Modules README Generation with terraform-docs and GitHub Actions"
date: 2025-01-10 14:07:02 +0000
categories: []
tags: []
---

<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000"><strong>Terraform modules</strong> are essential building blocks for reusing Terraform configurations. For a Terraform module to be successful, <span style="text-decoration: underline">ease of use and discoverability</span> are key. Since creating a Terraform module also goes through a development and maintenance cycle, storing that in a GitHub repository is convenient. By doing so, Organizations <span style="text-decoration: underline">improve collaboration, increase transparency, and enhance maintainability</span>. A README file in a GitHub repository is the primary reference for users to understand a project’s purpose and usage. Centralizing this information in a README ensures that module consumers can quickly find what they need to integrate the module into their infrastructure.</span></span></span>
<!--more-->
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">Maintaining an up-to-date README can be tedious, especially as Terraform modules evolve. This is where <strong>terraform-docs</strong> comes in. This open-source tool <span style="text-decoration: underline">automates</span> the generation of structured documentation from the Terraform configuration files, ensuring that the README remains current, accurate, and consistent without manual updates.</span></span></span>

<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">In this note, I demonstrate two use cases where <strong>terraform-docs</strong> can help auto-generate the README when a pull request is created. I learned about these from the <a href="https://terraform-docs.io/user-guide/introduction/" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">official terraform docs reference guide</span></span></span></a>.</span></span></span>

<strong><span style="font-size: 22px"><span style="font-family: calibri"><span style="color: #000000">Use-Case 1: CLI-based, out-of-the-box approach</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">This approach aims to automatically update the README.md file whenever a pull request is created. Here’s how to do it:</span></span></span>

<strong><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">1. Add Placeholders for terraform-docs</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">In the repository README.md, define placeholders (<code style="background-color: #dcdcdc;font-size: 15px;color: #000000">&lt;!-- BEGIN_TF_DOCS --&gt;</code> and <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">&lt;!-- END_TF_DOCS --&gt;</code>) where the documentation must be inserted. These placeholders help <strong>terraform-docs</strong> identify where to place the generated documentation.</span></span></span>

<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">When <strong>terraform-docs</strong> runs, via a GitHub Actions workflow, it will replace the contents between <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">&lt;!-- BEGIN_TF_DOCS --&gt;</code> and <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">&lt;!-- END_TF_DOCS --&gt;</code> with the generated documentation.</span></span></span>

<strong><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">2. Set Up terraform-docs in GitHub Actions Pipeline</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">Create a GitHub Actions workflow file to auto-generate the contents to insert in the README.md file. Please check <a href="https://github.com/kunduso/add-aws-secretsmanager-terraform/blob/main/.github/workflows/documentation.yml" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">this GitHub Actions workflow file</span></span></span></a>. As you can examine, the workflow triggers only on a pull request and updates the README.md file from the workflow.</span></span></span>
<img class="alignnone size-full wp-image-5448" src="https://skdevops.wordpress.com/wp-content/uploads/2025/01/109-image-1.png" alt="109-image-1" width="608" height="490" />
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">This approach is straightforward and does not provide options to the team on all the properties to show or the sequencing of the properties. Here is an example of a <a href="https://github.com/kunduso/add-aws-secretsmanager-terraform/blob/main/README.md" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">README.md file</span></span></span></a> after following this approach. The content from “Requirements” to “Outputs” was auto-generated using <strong>terraform-docs</strong>.</span></span></span>

<strong><span style="font-size: 22px"><span style="font-family: calibri"><span style="color: #000000">Use-Case 2: YAML-based, highly customized approach</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">This approach requires a YAML file to store the <strong>terraform-docs</strong> configuration and generate the README.md file, and it is highly customizable.</span></span></span>

<strong><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">1. Create a Custom YAML File</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">The idea behind this approach is to configure <strong>terraform-docs</strong> using a YAML file containing specific settings and options for generating the documentation. </span></span></span><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">Here’s an <a href="https://github.com/terraform-docs/terraform-docs/blob/master/examples/.terraform-docs.yml" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">example</span></span></span></a> of a YAML configuration file, typically named <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">terraform-docs.yml</code>.</span></span></span>

<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">This file defines the format (Markdown), specifies the output location (README.md), and the sections to include in the README (e.g., header, providers, inputs, resources, outputs, footer).</span></span></span>

<strong><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">2. Set Up terraform-docs in GitHub Actions Pipeline</span></span></span></strong>
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">Create a GitHub Actions workflow file to auto-generate the contents to insert in the README.md file. Please check <a href="https://github.com/kunduso/terraform-aws-vpc/blob/main/.github/workflows/documentation.yml" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">this GitHub Actions workflow file</span></span></span></a>. As you can examine, the workflow triggers only on a pull request and updates the README.md file from the workflow using the value defined in the config-file property.</span></span></span>
<img class="alignnone size-full wp-image-5449" src="https://skdevops.wordpress.com/wp-content/uploads/2025/01/109-image-2.png" alt="109-image-2" width="639" height="531" />
<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">This approach allows customization based on the properties selected in the <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">docs.yml</code> file in this repository. Here is an example of a <a href="https://github.com/kunduso/terraform-aws-vpc/blob/main/README.md" target="_blank" rel="noopener"><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #0000ff">README.md file</span></span></span></a> after following this approach. The content from “Requirements” to “Usage” was auto-generated using <strong>terraform-docs</strong>. This approach also enabled rendering the <code style="background-color: #dcdcdc;font-size: 15px;color: #000000">main.tf</code> file from the example folder so as to inform the readers how to use this Terraform module.</span></span></span>

<span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">That brings us to the end of this short note. Based on the project team’s requirements, both approaches work fine. </span></span></span><span style="font-size: 18px"><span style="font-family: calibri"><span style="color: #000000">By integrating <strong>terraform-docs</strong> into the GitHub Actions pipeline, Cloud engineering teams can ensure that the Terraform module documentation stays current and accurate without requiring manual updates.</span></span></span>
