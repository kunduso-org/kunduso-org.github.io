---
title: "Getting started with Azure DevOps -create a deployment  group"
date: 2019-12-27 06:44:26 +0000
categories: []
tags: []
---

<span style="font-family:calibri;"><span style="color:#000000;">This is <strong>part 7 of a multipart series on getting started with Azure DevOps</strong>. Please refer to the below links to access other notes in this series.</span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="https://skundunotes.com/2019/11/07/getting-started-with-azure-devops/" target="_blank" rel="noopener">Part 1: Getting started with Azure DevOps</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2019/12/24/getting-started-with-azure-devops-work-items/" target="_blank" rel="noopener">Part 2: Getting started with Azure DevOps -work items</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2020/03/17/getting-started-with-azure-devops-add-a-repo/" target="_blank" rel="noopener">Part 3: Getting started with Azure DevOps -add a repo</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2020/02/19/getting-started-with-azure-devops-create-a-build-agent/" target="_blank" rel="noopener">Part 4: Getting started with Azure DevOps -create a build agent</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2020/05/15/getting-started-with-azure-devops-create-a-build-pipeline-part-1-yaml-pipeline/" target="_blank" rel="noopener">Part 5: Getting started with Azure DevOps -create a build pipeline -Part 1 (YAML pipeline)</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2020/05/15/getting-started-with-azure-devops-create-a-build-pipeline-part-2-classic-editor/" target="_blank" rel="noopener">Part 6: Getting started with Azure DevOps -create a build pipeline -Part 2 (Classic Editor)</a></span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Part 7: Getting started with Azure DevOps -create a deployment group (this note)</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;"><a href="http://skundunotes.com/2020/05/22/getting-started-with-azure-devops-create-a-release-definition/" target="_blank" rel="noopener">Part 8: Getting started with Azure DevOps -create a release definition</a></span></span></span>

<strong><span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">What is a deployment group?</span></span></span></strong>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">In simple terms, a deployment group is a collection of machines (e.g. servers) that form a logical unit and can be expected to display identical traits -such as to form an environment. E.g. say you have a product that gets deployed to the following environments -Dev, Test, Stage, and Production. Then these 4 environments can be referred to as 4 deployment groups. Machines in a deployment group are mutually exclusive -one machine can only be in one deployment group.</span></span></span>
<!--more-->
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">In a usual setup (think tool agnostic), you’d have a continuous-integration (CI) build definition that creates a package ready to be deployed. A release script or orchestrator can be configured such as to deploy the artifacts of the CI build to an environment (aka list of machines). You can create an orchestration technique via a deployment script that pushes the packages to (say e.g.) 2 machines in the Dev environment. Now, say our product has undergone some change and instead of 2, we now have to deploy our package to 10 machines. The deployment script then has to be updated to accommodate the change.</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Now, say you have not 1 but 40 release definitions to manage for various other components of the product. The deployment processes to deploy to 10 machines (belonging to the Dev environment) has to be updated in 40 release definitions. And then the same change would be required for the remaining environments -Test, Stage, and Production. Let me throw in some more variables -Imagine an environment that is dynamic where machines get added and removed to align with the changing needs of the products. In such a situation it becomes cumbersome and stressful to be able to allocate and manage resources without error. In Azure DevOps, we circumvent this issue via the usage of Deployment groups.</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Typically a release definition executes a set of instructions (aka jobs) on the following -agent, agentless, or a deployment group; where an agent is a machine that triggers the job/s and a deployment group is where the jobs are executed. For now, let's keep agentless out of the scope of our discussion.</span></span></span>
<strong><span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">How do you create a deployment group?</span></span></span></strong>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Inside your Azure DevOps project -&gt; Pipelines -&gt; Deployment groups</span></span></span>
<img class="alignnone size-full wp-image-242" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image1.png" alt="AD-GettingStarted-DeploymentGroup-Image1" width="624" height="442">
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Give it a name that makes sense and will be easy to identify (considering you will have multiple deployment groups). I like to name them based on the purpose they will be fulfilling.. in this case acting as an environment, so I name the deployment group with the environment they will be serving. Hence names like “Dev”, “Test”, “Stage” and “Prod”.</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Click on Add a deployment group and name it as “Dev” and create.</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">On successful creation, you get to choose what kind of machines will be part of the deployment group -Linux or Windows and the Registration script will be made available accordingly.</span></span></span>
<img class="alignnone size-full wp-image-243" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image2.png" alt="AD-GettingStarted-DeploymentGroup-Image2" width="624" height="339">
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">This image above is a registration script for a machine running Windows OS.</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Copy and paste this registration script on an elevated Powershell command prompt on the target machine -the one that is going to be part of this deployment group. You will be prompted for credentials and tags that you would want to associate with the deployment group. Below is an image of a set of prompts when I added a machine to a deployment group at work (Not this example)</span></span></span>
<img class="alignnone size-full wp-image-244" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image3.png" alt="AD-GettingStarted-DeploymentGroup-Image3" width="640" height="386">
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Once a machine is registered (in Window) you will see a new windows service running by the name VSTS Agent.</span></span></span>
<img class="alignnone size-full wp-image-245" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image4.png" alt="AD-GettingStarted-DeploymentGroup-Image4" width="562" height="70">
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">...and on the Deployment group -&gt; Target, you will see this machine is listed.</span></span></span>
<img class="alignnone size-full wp-image-246" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image5.png" alt="AD-GettingStarted-DeploymentGroup-Image5" width="1024" height="217">
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Since I am demoing how to create a deployment group, I named the group as <em><strong>DoNotUse</strong></em> (and not as Dev as we had mentioned earlier) just so that no one from the development team starts using this deployment group. In an ideal world, if this was a development environment, I'd name this deployment group as<strong> Dev</strong>.</span></span></span>
<strong><span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Now that we have a deployment group created, how do you link a release definition to a deployment group?</span></span></span></strong>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">To create a new release definition -&gt; go to Tasks and next to Environment 1 you will see ellipsis which lists three options. We select the <em>add deployment group phase</em> here.</span></span></span>
<img class="alignnone size-full wp-image-247" src="https://skundunotes.com/wp-content/uploads/2019/12/ad-gettingstarted-deploymentgroup-image6.png" alt="AD-GettingStarted-DeploymentGroup-Image6" width="844" height="267">

<strong><span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">What are the benefits of deployment groups?</span></span></span></strong>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">According to me, these are the benefits:</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">-easy to manage environments like adding and removing machines on scale warrants no change to the deployment process</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">-increases productivity</span></span></span>
<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">-high trace-ability -what release definition was applied to what deployment group can be identified with a few clicks on the portal</span></span></span>

<span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">Next, <a href="http://skundunotes.com/2020/05/22/getting-started-with-azure-devops-create-a-release-definition/">Part 8: Getting started with Azure DevOps -create a release definition</a></span></span></span>

<em><span style="font-size:18px;"><span style="font-family:calibri;"><span style="color:#000000;">PS: I will cover adding a deployment group to a release definition and tags in a later note. For now, I am discussing the idea of a deployment group from an Azure DevOps standpoint.</span></span></span></em>
